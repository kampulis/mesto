(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.d({},{hi:()=>G,kJ:()=>z,lH:()=>M,qi:()=>Y,eY:()=>F});var n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allClasses=t,this.form=document.querySelector("".concat(n," form")),this.submitButton=this.form.querySelector(t.submitButtonSelector),this.inputs=Array.from(this.form.querySelectorAll(this.allClasses.inputContainerSelector)),this.enableValidations=this.enableValidations.bind(this)}var n,o;return n=e,(o=[{key:"_validateInput",value:function(e,t){e.validity.valid?this._hideInputError(t):this._showInputError(e,t),this.toggleSubmitButtonState()}},{key:"_showInputError",value:function(e,t){t.textContent=e.validationMessage}},{key:"_hideInputError",value:function(e){e.textContent=""}},{key:"_addValidationsToInputs",value:function(){var e=this;this.inputs.forEach((function(t){var n=t.querySelector(e.allClasses.inputErrorSelector);t.addEventListener("input",(function(t){e._validateInput(t.target,n)}))}))}},{key:"clearErrors",value:function(){var e=this;this.inputs.forEach((function(t){return e._hideInputError(t.querySelector(e.allClasses.inputErrorSelector))}))}},{key:"toggleSubmitButtonState",value:function(){this.form.checkValidity()?this.submitButton.disabled=!1:this.submitButton.disabled=!0}},{key:"enableValidations",value:function(){this._addValidationsToInputs(),this.toggleSubmitButtonState()}}])&&t(n.prototype,o),e}();function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=document.querySelector(t),this.submitButton=this.popup.querySelector('button[type="submit"]'),this.submitButton&&(this.defaultSubmitButtonText=this.submitButton.textContent),this.open=this.open.bind(this),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){27===e.keyCode&&this.close()}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this.popup.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this.popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var e=this;this.popup.querySelector(".popup__close-icon").addEventListener("click",this.close),this.popup.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()}))}},{key:"updateSubmitButtonText",value:function(e){this.submitButton&&(this.submitButton.textContent=e)}},{key:"resetSubmitButtonText",value:function(){this.updateSubmitButtonText(this.defaultSubmitButtonText)}}])&&o(t.prototype,n),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,o,r,i=(o=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(r){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function p(){return u(this,p),i.apply(this,arguments)}return t=p,(n=[{key:"open",value:function(e){c(f(p.prototype),"open",this).call(this);var t=this.popup.querySelector("img");t.src=e.target.src,t.alt=e.target.alt;var n=e.target.closest(".mesto-card").querySelector(".mesto-card__subtitle-name");this.popup.querySelector(".popup__text").textContent=n.textContent}}])&&a(t.prototype,n),p}(r);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(r){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,e,n)).submitFormHandler=t,o.form=o.popup.querySelector("form"),o.validator=n,o}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this.form.querySelectorAll("input").forEach((function(t){e[t.id]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;y(m(u.prototype),"setEventListeners",this).call(this),this.validator.enableValidations(),this.form.addEventListener("submit",(function(t){e.updateSubmitButtonText("Сохранение..."),e.submitFormHandler(t,e._getInputValues(),e)}))}},{key:"open",value:function(){y(m(u.prototype),"open",this).call(this),this.validator.clearErrors(),this.validator.toggleSubmitButtonState()}},{key:"close",value:function(){y(m(u.prototype),"close",this).call(this),this.form.reset()}}])&&d(t.prototype,n),u}(r);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(o);if(r){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).form=t.popup.querySelector("form"),t}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;g(C(u.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",(function(t){t.preventDefault(),e.submitFormHandler()}))}},{key:"open",value:function(e){g(C(u.prototype),"open",this).call(this),this.submitFormHandler=e}}])&&S(t.prototype,n),u}(r);function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var I=function(){function e(t){var n=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.headers=o}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch(this.baseUrl+"cards/",{headers:this.headers}).then(this._checkResponse)}},{key:"getInfoAboutPeople",value:function(){return fetch(this.baseUrl+"users/me/",{headers:this.headers}).then(this._checkResponse)}},{key:"updateEditProfile",value:function(e){return fetch(this.baseUrl+"users/me/",{method:"PATCH",headers:this.headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"updateEditAvatar",value:function(e){return fetch(this.baseUrl+"users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"addNewСard",value:function(e){return fetch(this.baseUrl+"cards",{method:"POST",headers:this.headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch(this.baseUrl+"cards/"+e,{method:"DELETE",headers:this.headers}).then(this._checkResponse)}},{key:"updateLike",value:function(e,t){return fetch(this.baseUrl+"cards/likes/"+e,{method:t?"DELETE":"PUT",headers:this.headers}).then(this._checkResponse)}}])&&P(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var L=function(){function e(t){var n=t.nameSelector,o=t.aboutSelector,r=t.fotoSelector,i=t.handleClick,u=t.fotoInputSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.profileTitle=document.querySelector(n),this.profileSubtitle=document.querySelector(o),this.fotoContainer=document.querySelector(r),this.fotoInput=document.querySelector(u),this.handleClick=i}var t,n;return t=e,(n=[{key:"updateUserInfoOnPage",value:function(){this.profileTitle.textContent=this.userInfo.name,this.profileSubtitle.textContent=this.userInfo.about,this.fotoInput.value=" ",this.fotoContainer.src=this.userInfo.avatar}},{key:"setUserInfo",value:function(e){this.userInfo=e,this.updateUserInfoOnPage()}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"updateNameAndJob",value:function(e){var t=e.name,n=e.job;this.userInfo.name=t,this.userInfo.about=n,this.updateUserInfoOnPage()}},{key:"updateAvatarUrl",value:function(e){this.userInfo.avatar=e,this.updateUserInfoOnPage()}}])&&j(t.prototype,n),e}();function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var q=function(){function e(t,n){var o=t.api,r=t.renderer,i=t.userInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.userInfo=i,this.renderer=r,this.container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"initCards",value:function(){var e=this;return this.api.getInitialCards().then((function(t){e.items=t,e.render()}))}},{key:"render",value:function(){var e=this,t=this.userInfo.getUserInfo();this.items.forEach((function(n){var o=e.renderer(n,t);e.addItem(o)}))}},{key:"addItem",value:function(e){this.container.prepend(e)}}])&&T(t.prototype,n),e}(),R={formSelector:".popup__input",submitButtonSelector:".popup__button",inputContainerSelector:".popup__name-container",inputSelector:".popup__name",inputErrorSelector:".popup__name.popup__name_type_err",disabledButtonSelector:".popup__container_new-card .popup__button",nameSelector:".profile__info-title",fotoContainer:".profile__foto",aboutSelector:".profile__info-subtitle"},B=document.querySelector(".profile").querySelector(".profile__button"),x=document.querySelector(".profile__button-add"),U=(document.querySelector(".mesto-card__trash"),document.querySelector(R.nameSelector),document.querySelector(".profile__info-subtitle"),document.querySelector("#name")),D=document.querySelector("#job");function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var V=function(){function e(t,n,o,r,i,u,a){var c=n.name,s=n.link,l=n.likes,f=n.id,p=n.owner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=f,this.api=t,this.name=c,this.link=s,this.likes=l,this.owner=p,this.currentUser=o,this.template=document.querySelector(r),this.handleCardClick=i,this.handleDeleteClick=u,this.handleSubmitDeleteClick=a}var t,n;return t=e,(n=[{key:"_addLike",value:function(e){var t=e.target.closest(".mesto-card__subtitle-like").querySelector(".mesto-card__subtitle-icon-like");e.target.classList.contains("mesto-card__subtitle-icon_active")?this.api.updateLike(this.id,!0).then((function(n){e.target.classList.remove("mesto-card__subtitle-icon_active"),t.textContent=n.likes.length})).catch((function(e){console.error("Не удалось убрать лайк",e)})):this.api.updateLike(this.id).then((function(n){e.target.classList.add("mesto-card__subtitle-icon_active"),t.textContent=n.likes.length})).catch((function(e){console.error("Не удалось добавить лайк",e)}))}},{key:"_deleteCard",value:function(e){var t=this,n=e.target.closest(".mesto-card");this.api.deleteCard(this.id).then((function(){n.remove(),t.handleSubmitDeleteClick()})).catch((function(e){console.error("Не удалось удалить карточку",e)}))}},{key:"_onDeleteButtonClick",value:function(e){var t=this;this.handleDeleteClick((function(){t._deleteCard(e)}))}},{key:"_showPhoto",value:function(e){this.handleCardClick(e)}},{key:"_getTemplate",value:function(){return this.template.content.cloneNode(!0)}},{key:"_setEventListeners",value:function(e){var t=this;e.querySelector(".mesto-card__subtitle-icon").addEventListener("click",(function(e){return t._addLike(e)})),e.querySelector(".mesto-card__trash").addEventListener("click",(function(e){return t._onDeleteButtonClick(e)})),e.querySelector(".mesto-card__photo").addEventListener("click",(function(e){return t._showPhoto(e)}))}},{key:"_showTrash",value:function(e){this.currentUser._id===this.owner._id&&(e.querySelector(".mesto-card__trash").style.display="block")}},{key:"_showIsLiked",value:function(e){var t=this;this.likes.find((function(e){return e._id===t.currentUser._id}))&&e.querySelector(".mesto-card__subtitle-icon").classList.add("mesto-card__subtitle-icon_active")}},{key:"createMestoCard",value:function(){var e=this._getTemplate(),t=e.querySelector(".mesto-card__photo"),n=e.querySelector(".mesto-card__subtitle-icon-like");return t.src=this.link,t.alt=this.name,n.textContent=this.likes.length,e.querySelector(".mesto-card__subtitle-name").textContent=this.name,this._showTrash(e),this._showIsLiked(e),this._setEventListeners(e),e}}])&&A(t.prototype,n),e}();function N(e,t,n,o,r,i){return new V(G,{name:e,link:t,likes:n,id:o,owner:r},i,"#mesto-card",M.open,z.open,z.close).createMestoCard()}var H=".popup.popup_type_update",J=new _(H,(function(e,t,n){e.preventDefault(),G.updateEditAvatar(t["link-avatar"]).then((function(e){var t=e.avatar;n.close(),n.resetSubmitButtonText(),F.updateAvatarUrl(t)})).catch((function(e){console.error("Не удалось обновить аватар",e)}))}),new n(R,H)),F=new L({nameSelector:R.nameSelector,aboutSelector:R.aboutSelector,fotoSelector:R.fotoContainer,handleClick:J.open,fotoInputSelector:".popup__name.popup__name_type_update"}),M=new p(".popup.popup_type_image"),z=new O(".popup.popup_type_confirm"),G=new I({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26/",headers:{authorization:"82256f25-365c-46ac-aa1f-a846129f6d77","Content-Type":"application/json","Access-Control-Allow-Methods":"POST, GET, DELETE"}}),Y=new q({api:G,renderer:function(e,t){var n=e.name,o=e.link,r=e.likes,i=e.owner;return N(n,o,r,e._id,i,t)},userInfo:F},".elements"),K=".popup.popup_type_edit",Q=new _(K,(function(e,t,n){e.preventDefault(),G.updateEditProfile({name:t.name,about:t.job}).then((function(e){var t=e.name,o=e.about;n.close(),n.resetSubmitButtonText(),F.updateNameAndJob({name:t,job:o})})).catch((function(e){console.error("Не удалось обновить профиль",e)}))}),new n(R,K)),W=".popup.popup_type_new-card",X=new _(W,(function(e,t,n){e.preventDefault();var o=t.mesto,r=t.link;G["addNewСard"]({name:o,link:r}).then((function(e){var t=e.name,o=e.owner,i=e.likes,u=e._id;n.close(),n.resetSubmitButtonText();var a=F.getUserInfo();Y.addItem(N(t,r,i,u,o,a))})).catch((function(e){console.error("Не удалось добавить новую карточку",e)}))}),new n(R,W));M.setEventListeners(),Q.setEventListeners(),X.setEventListeners(),z.setEventListeners(),J.setEventListeners(),F.fotoContainer.addEventListener("click",(function(e){F.updateUserInfoOnPage(),F.handleClick(e)})),B.addEventListener("click",(function(){!function(e,t,n){var o=e.getUserInfo(),r=o.name,i=o.about;t.value=r,n.value=i}(F,U,D),Q.open()})),x.addEventListener("click",X.open),G.getInfoAboutPeople().then((function(e){F.setUserInfo(e),Y.initCards().catch((function(e){console.error("Не удалось загрузить карточки",e)}))})).catch((function(e){console.error("Не удалось получить информацию о пользователе",e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvaGVscGVycy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL2hhbmRsZXJzLmpzIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRm9ybVZhbGlkYXRvciIsImFsbENsYXNzZXMiLCJwYXJlbnRTZWxlY3RvciIsInRoaXMiLCJmb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRDb250YWluZXJTZWxlY3RvciIsImVuYWJsZVZhbGlkYXRpb25zIiwiYmluZCIsImlucHV0IiwiZXJyb3JFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInRvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJpbnB1dEVycm9yU2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIl92YWxpZGF0ZUlucHV0IiwidGFyZ2V0IiwiY2hlY2tWYWxpZGl0eSIsImRpc2FibGVkIiwiX2FkZFZhbGlkYXRpb25zVG9JbnB1dHMiLCJQb3B1cCIsInNlbGVjdG9yIiwicG9wdXAiLCJkZWZhdWx0U3VibWl0QnV0dG9uVGV4dCIsIm9wZW4iLCJjbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsImtleUNvZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiY29udGFpbnMiLCJ0ZXh0IiwidXBkYXRlU3VibWl0QnV0dG9uVGV4dCIsIlBvcHVwV2l0aEltYWdlIiwiY2FyZCIsInNyYyIsImFsdCIsInN1YnRpdGxlIiwiY2xvc2VzdCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtSGFuZGxlciIsInZhbGlkYXRvciIsInZhbHVlcyIsImlkIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJjbGVhckVycm9ycyIsInJlc2V0IiwiUG9wdXBXaXRoU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJvblN1Ym1pdCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwicHJvZmlsZURhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhclVybCIsImF2YXRhciIsImNhcmREYXRhIiwiY2FyZElkIiwiaXNEZWxldGUiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJmb3RvU2VsZWN0b3IiLCJoYW5kbGVDbGljayIsImZvdG9JbnB1dFNlbGVjdG9yIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZVN1YnRpdGxlIiwiZm90b0NvbnRhaW5lciIsImZvdG9JbnB1dCIsInVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwidXBkYXRlVXNlckluZm9PblBhZ2UiLCJqb2IiLCJ1cmwiLCJTZWN0aW9uIiwiYXBpIiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsIml0ZW1zIiwicmVuZGVyIiwiY3VycmVudFVzZXIiLCJnZXRVc2VySW5mbyIsIml0ZW0iLCJyZW5kZXJlZEl0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiZGlzYWJsZWRCdXR0b25TZWxlY3RvciIsInByb2ZpbGVCdXR0b24iLCJwcm9maWxlQnV0dG9uQWRkIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlU3VibWl0RGVsZXRlQ2xpY2siLCJsaW5rIiwibGlrZXMiLCJvd25lciIsInRlbXBsYXRlIiwibGlrZUNvdW50Q29udGFpbmVyIiwidXBkYXRlTGlrZSIsImRhdGEiLCJsZW5ndGgiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImRlbGV0ZUNhcmQiLCJfZGVsZXRlQ2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJuZXdDYXJkIiwiX2FkZExpa2UiLCJfb25EZWxldGVCdXR0b25DbGljayIsIl9zaG93UGhvdG8iLCJfaWQiLCJzdHlsZSIsImRpc3BsYXkiLCJmaW5kIiwiZWx0IiwiX2dldFRlbXBsYXRlIiwibWVzdG8iLCJsaWtlIiwiX3Nob3dUcmFzaCIsIl9zaG93SXNMaWtlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsInBvcHVwU3VibWl0IiwiY3JlYXRlTWVzdG9DYXJkIiwicG9wdXBFZGl0QXZhdGFyU2VsZWN0b3IiLCJwb3B1cEVkaXRBdmF0YXIiLCJyZXNldFN1Ym1pdEJ1dHRvblRleHQiLCJhdXRob3JpemF0aW9uIiwic2VjdGlvbiIsInBvcHVwV2l0aFVzZXJGb3JtU2VsZWN0b3IiLCJwb3B1cFdpdGhVc2VyRm9ybSIsImV2dCIsInBvcHVwV2l0aEFkZE1lc3RvRm9ybVNlbGVjdG9yIiwicG9wdXBXaXRoQWRkTWVzdG9Gb3JtIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnB1dFZhbHVlcyIsImdldEluZm9BYm91dFBlb3BsZSIsImluZm8iLCJzZXRVc2VySW5mbyIsImluaXRDYXJkcyJdLCJtYXBwaW5ncyI6Im1CQUNBLElBQUlBLEVBQXNCLENDQTFCLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFLEVBQXdC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QUFPbUIsRUFBVSxFQUFWQSxJQUNoRXBILEVBQU1HLFFBQ05ILEVBQU1xSSx3QkFDTixJQUFNeEQsRUFBY2QsRUFBU2UsY0FDN0J5RCxVQUFnQlIsRUFBVy9ELEVBQU1nQyxFQUFNQyxFQUFPbUIsRUFBS2xCLEVBQU9yQixPQUN6RDJCLE9BQU0sU0FBQ0MsR0FDUkMsUUFBUUMsTUFBTSxxQ0FBc0NGLFFEd0I2QyxJQUFJN0ksRUFBY0MsRUFBWThLLElBRW5JWCxFQUFlYSxvQkFDZkosRUFBa0JJLG9CQUNsQkQsRUFBc0JDLG9CQUN0QlosRUFBWVksb0JBQ1pULEVBQWdCUyxvQkFFaEI5RSxFQUFTRixjQUFjdEUsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDaER1RSxFQUFTRyx1QkFDVEgsRUFBU04sWUFBWWpFLE1BVXZCK0YsRUFBY2hHLGlCQUFpQixTQUFTLFlBUHhDLFNBQXdCd0UsRUFBVTBCLEVBQVdDLEdBQzNDLE1BQXdCM0IsRUFBU2UsY0FBekJkLEVBQVIsRUFBUUEsS0FBTUMsRUFBZCxFQUFjQSxNQUVkd0IsRUFBVWpFLE1BQVF3QyxFQUNsQjBCLEVBQVNsRSxNQUFReUMsRUFJakI2RSxDQUFlL0UsRUFBVTBCLEVBQVdDLEdBQ3BDK0MsRUFBa0J2SSxVQUdwQnNGLEVBQWlCakcsaUJBQWlCLFFBQVNxSixFQUFzQjFJLE1BRWpFb0UsRUFBSXlFLHFCQUFxQnRHLE1BQUssU0FBQ3VHLEdBQzdCakYsRUFBU2tGLFlBQVlELEdBRXJCVCxFQUFRVyxZQUFZMUMsT0FBTSxTQUFDQyxHQUN6QkMsUUFBUUMsTUFBTSxnQ0FBaUNGLFNBRWhERCxPQUFNLFNBQUFDLEdBQ1BDLFFBQVFDLE1BQU0sZ0RBQWlERixPIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoYWxsQ2xhc3NlcywgcGFyZW50U2VsZWN0b3IpIHtcbiAgICB0aGlzLmFsbENsYXNzZXMgPSBhbGxDbGFzc2VzO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFyZW50U2VsZWN0b3J9IGZvcm1gKTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGFsbENsYXNzZXMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuaW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLmFsbENsYXNzZXMuaW5wdXRDb250YWluZXJTZWxlY3RvcikpO1xuICAgIHRoaXMuZW5hYmxlVmFsaWRhdGlvbnMgPSB0aGlzLmVuYWJsZVZhbGlkYXRpb25zLmJpbmQodGhpcyk7XG4gIH1cblxuICBfdmFsaWRhdGVJbnB1dChpbnB1dCwgZXJyb3JFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGVycm9yRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVycm9yRWxlbWVudCk7XG4gICAgfVxuICAgIHRoaXMudG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCwgZXJyb3JFbGVtZW50KSB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoZXJyb3JFbGVtZW50KSB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9hZGRWYWxpZGF0aW9uc1RvSW5wdXRzKCkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gaW5wdXQucXVlcnlTZWxlY3Rvcih0aGlzLmFsbENsYXNzZXMuaW5wdXRFcnJvclNlbGVjdG9yKTtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dChlLnRhcmdldCwgZXJyb3JFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICBjbGVhckVycm9ycygpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0LnF1ZXJ5U2VsZWN0b3IodGhpcy5hbGxDbGFzc2VzLmlucHV0RXJyb3JTZWxlY3RvcikpKTtcbiAgfVxuXG4gIHRvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLmZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbnMoKSB7XG4gICAgdGhpcy5fYWRkVmFsaWRhdGlvbnNUb0lucHV0cygpO1xuICAgIHRoaXMudG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgfVxufVxuIiwiY29uc3QgRVNDQVBFX0tFWUNPREUgPSAyNztcblxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLnBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgICBpZiAodGhpcy5zdWJtaXRCdXR0b24pIHtcbiAgICAgIHRoaXMuZGVmYXVsdFN1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlSWNvbiA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1pY29uJyk7XG4gICAgY2xvc2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG4gICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlU3VibWl0QnV0dG9uVGV4dCh0ZXh0KSB7XG4gICAgaWYgKHRoaXMuc3VibWl0QnV0dG9uKSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRTdWJtaXRCdXR0b25UZXh0KCkge1xuICAgIHRoaXMudXBkYXRlU3VibWl0QnV0dG9uVGV4dCh0aGlzLmRlZmF1bHRTdWJtaXRCdXR0b25UZXh0KVxuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgb3BlbihlKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIGNvbnN0IGNhcmQgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIGNhcmQuc3JjID0gZS50YXJnZXQuc3JjO1xuICAgIGNhcmQuYWx0ID0gZS50YXJnZXQuYWx0O1xuICAgIGNvbnN0IHBhcmVudCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tZXN0by1jYXJkJyk7XG4gICAgY29uc3Qgc3VidGl0bGUgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3N1YnRpdGxlLW5hbWUnKTtcbiAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpLnRleHRDb250ZW50ID0gc3VidGl0bGUudGV4dENvbnRlbnQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBzdWJtaXRGb3JtSGFuZGxlciwgdmFsaWRhdG9yKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IsIHZhbGlkYXRvcik7XG4gICAgdGhpcy5zdWJtaXRGb3JtSGFuZGxlciA9IHN1Ym1pdEZvcm1IYW5kbGVyO1xuICAgIHRoaXMuZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIHRoaXMudmFsaWRhdG9yID0gdmFsaWRhdG9yO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9ucygpO1xuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVTdWJtaXRCdXR0b25UZXh0KCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xuICAgICAgdGhpcy5zdWJtaXRGb3JtSGFuZGxlcihlLCB0aGlzLl9nZXRJbnB1dFZhbHVlcygpLCB0aGlzKTtcbiAgICB9KVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy52YWxpZGF0b3IuY2xlYXJFcnJvcnMoKTtcbiAgICB0aGlzLnZhbGlkYXRvci50b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLmZvcm0gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnN1Ym1pdEZvcm1IYW5kbGVyKCk7XG4gICAgfSlcbiAgfVxuXG4gIG9wZW4ob25TdWJtaXQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5zdWJtaXRGb3JtSGFuZGxlciA9IG9uU3VibWl0O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArICdjYXJkcy8nLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbmZvQWJvdXRQZW9wbGUoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArICd1c2Vycy9tZS8nLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICB1cGRhdGVFZGl0UHJvZmlsZShwcm9maWxlRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIHRoaXMuYmFzZVVybCArICd1c2Vycy9tZS8nLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZmlsZURhdGEpLFxuICAgICAgfSxcbiAgICApLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICB1cGRhdGVFZGl0QXZhdGFyKGF2YXRhclVybCkge1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIHRoaXMuYmFzZVVybCArICd1c2Vycy9tZS9hdmF0YXInLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGF2YXRhclVybCB9KSxcbiAgICAgIH0sXG4gICAgKS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV30KFhcmQoY2FyZERhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICB0aGlzLmJhc2VVcmwgKyAnY2FyZHMnLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSksXG4gICAgICB9LFxuICAgICkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgdGhpcy5iYXNlVXJsICsgJ2NhcmRzLycgKyBjYXJkSWQsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgKS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlTGlrZShjYXJkSWQsIGlzRGVsZXRlKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgdGhpcy5iYXNlVXJsICsgJ2NhcmRzL2xpa2VzLycgKyBjYXJkSWQsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogaXNEZWxldGUgPyAnREVMRVRFJyA6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IsIGZvdG9TZWxlY3RvciwgaGFuZGxlQ2xpY2ssIGZvdG9JbnB1dFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLnByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLnByb2ZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5mb3RvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3RvU2VsZWN0b3IpO1xuICAgIHRoaXMuZm90b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3RvSW5wdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IGhhbmRsZUNsaWNrO1xuICB9XG5cbiAgdXBkYXRlVXNlckluZm9PblBhZ2UoKSB7XG4gICAgdGhpcy5wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLnVzZXJJbmZvLm5hbWU7XG4gICAgdGhpcy5wcm9maWxlU3VidGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLnVzZXJJbmZvLmFib3V0O1xuICAgIHRoaXMuZm90b0lucHV0LnZhbHVlID0gXCIgXCI7XG4gICAgdGhpcy5mb3RvQ29udGFpbmVyLnNyYyA9IHRoaXMudXNlckluZm8uYXZhdGFyO1xuICB9XG5cbiAgc2V0VXNlckluZm8odXNlckluZm8pIHtcbiAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87XG4gICAgdGhpcy51cGRhdGVVc2VySW5mb09uUGFnZSgpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlckluZm87XG4gIH1cblxuICB1cGRhdGVOYW1lQW5kSm9iKHsgbmFtZSwgam9iIH0pIHtcbiAgICB0aGlzLnVzZXJJbmZvLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudXNlckluZm8uYWJvdXQgPSBqb2I7XG4gICAgdGhpcy51cGRhdGVVc2VySW5mb09uUGFnZSgpO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyVXJsKHVybCkge1xuICAgIHRoaXMudXNlckluZm8uYXZhdGFyID0gdXJsO1xuICAgIHRoaXMudXBkYXRlVXNlckluZm9PblBhZ2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGFwaSwgcmVuZGVyZXIsIHVzZXJJbmZvIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgaW5pdENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKGNhcmRzID0+IHtcbiAgICAgIHRoaXMuaXRlbXMgPSBjYXJkcztcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB0aGlzLnVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBjb25zdCByZW5kZXJlZEl0ZW0gPSB0aGlzLnJlbmRlcmVyKGl0ZW0sIGN1cnJlbnRVc2VyKTtcbiAgICAgIHRoaXMuYWRkSXRlbShyZW5kZXJlZEl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGFsbENsYXNzZXMgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5wdXRDb250YWluZXJTZWxlY3RvcjogJy5wb3B1cF9fbmFtZS1jb250YWluZXInLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19uYW1lJyxcbiAgaW5wdXRFcnJvclNlbGVjdG9yOiAnLnBvcHVwX19uYW1lLnBvcHVwX19uYW1lX3R5cGVfZXJyJyxcbiAgZGlzYWJsZWRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyX25ldy1jYXJkIC5wb3B1cF9fYnV0dG9uJyxcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2luZm8tdGl0bGUnLFxuICBmb3RvQ29udGFpbmVyOiAnLnByb2ZpbGVfX2ZvdG8nLFxuICBhYm91dFNlbGVjdG9yOiAnLnByb2ZpbGVfX2luZm8tc3VidGl0bGUnLFxufTtcblxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbi1hZGRcIik7XG5leHBvcnQgY29uc3QgdHJhc2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fdHJhc2gnKTtcbmV4cG9ydCBjb25zdCBuYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhbGxDbGFzc2VzLm5hbWVTZWxlY3Rvcik7XG5leHBvcnQgY29uc3QgYWJvdXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mby1zdWJ0aXRsZScpO1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9iJyk7IiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcGksXG4gICAgeyBuYW1lLCBsaW5rLCBsaWtlcywgaWQsIG93bmVyIH0sXG4gICAgY3VycmVudFVzZXIsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlU3VibWl0RGVsZXRlQ2xpY2ssXG4gICkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGluayA9IGxpbms7XG4gICAgdGhpcy5saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XG5cbiAgICB0aGlzLnRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZVNlbGVjdG9yKTtcbiAgICB0aGlzLmhhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLmhhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5oYW5kbGVTdWJtaXREZWxldGVDbGljayA9IGhhbmRsZVN1Ym1pdERlbGV0ZUNsaWNrO1xuICB9XG5cbiAgLyoqINCf0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4ICovXG5cbiAgX2FkZExpa2UoZSkge1xuICAgIGNvbnN0IGxpa2VDb250YWluZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcubWVzdG8tY2FyZF9fc3VidGl0bGUtbGlrZScpO1xuICAgIGNvbnN0IGxpa2VDb3VudENvbnRhaW5lciA9IGxpa2VDb250YWluZXIucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3N1YnRpdGxlLWljb24tbGlrZScpO1xuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWVzdG8tY2FyZF9fc3VidGl0bGUtaWNvbl9hY3RpdmUnKSkge1xuICAgICAgdGhpcy5hcGkudXBkYXRlTGlrZSh0aGlzLmlkLCB0cnVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ21lc3RvLWNhcmRfX3N1YnRpdGxlLWljb25fYWN0aXZlJyk7XG4gICAgICAgIGxpa2VDb3VudENvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINGD0LHRgNCw0YLRjCDQu9Cw0LnQuicsIGVycik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcGkudXBkYXRlTGlrZSh0aGlzLmlkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ21lc3RvLWNhcmRfX3N1YnRpdGxlLWljb25fYWN0aXZlJyk7XG4gICAgICAgIGxpa2VDb3VudENvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC00L7QsdCw0LLQuNGC0Ywg0LvQsNC50LonLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2RlbGV0ZUNhcmQoZSkge1xuICAgIGNvbnN0IGNhcmQgPSBlLnRhcmdldC5jbG9zZXN0KCcubWVzdG8tY2FyZCcpO1xuXG4gICAgdGhpcy5hcGkuZGVsZXRlQ2FyZCh0aGlzLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdERlbGV0ZUNsaWNrKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDRg9C00LDQu9C40YLRjCDQutCw0YDRgtC+0YfQutGDJywgZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX29uRGVsZXRlQnV0dG9uQ2xpY2soZSkge1xuICAgIHRoaXMuaGFuZGxlRGVsZXRlQ2xpY2soKCkgPT4geyB0aGlzLl9kZWxldGVDYXJkKGUpOyB9KTtcbiAgfVxuXG4gIF9zaG93UGhvdG8oZSkge1xuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrKGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyhuZXdDYXJkKSB7XG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fc3VidGl0bGUtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuX2FkZExpa2UoZSkpO1xuICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3RyYXNoJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5fb25EZWxldGVCdXR0b25DbGljayhlKSk7XG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fcGhvdG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLl9zaG93UGhvdG8oZSkpO1xuICB9XG5cbiAgX3Nob3dUcmFzaChuZXdDYXJkKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIuX2lkID09PSB0aGlzLm93bmVyLl9pZCkge1xuICAgICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fdHJhc2gnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgfVxuICB9XG5cbiAgX3Nob3dJc0xpa2VkKG5ld0NhcmQpIHtcbiAgICBjb25zdCBteUxpa2UgPSB0aGlzLmxpa2VzLmZpbmQoKGVsdCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZWx0Ll9pZCA9PT0gdGhpcy5jdXJyZW50VXNlci5faWQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICAgIGlmIChteUxpa2UpIHtcbiAgICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3N1YnRpdGxlLWljb24nKS5jbGFzc0xpc3QuYWRkKCdtZXN0by1jYXJkX19zdWJ0aXRsZS1pY29uX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU1lc3RvQ2FyZCgpIHtcbiAgICBjb25zdCBuZXdDYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICBjb25zdCBtZXN0byA9IG5ld0NhcmQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3Bob3RvJyk7XG4gICAgY29uc3QgbGlrZSA9IG5ld0NhcmQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3N1YnRpdGxlLWljb24tbGlrZScpO1xuICAgIG1lc3RvLnNyYyA9IHRoaXMubGluaztcbiAgICBtZXN0by5hbHQgPSB0aGlzLm5hbWU7XG4gICAgbGlrZS50ZXh0Q29udGVudCA9IHRoaXMubGlrZXMubGVuZ3RoO1xuICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLm1lc3RvLWNhcmRfX3N1YnRpdGxlLW5hbWUnKS50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcbiAgICB0aGlzLl9zaG93VHJhc2gobmV3Q2FyZCk7XG4gICAgdGhpcy5fc2hvd0lzTGlrZWQobmV3Q2FyZCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhuZXdDYXJkKTtcbiAgICByZXR1cm4gbmV3Q2FyZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZHMuanMnO1xuaW1wb3J0IHsgcG9wdXBXaXRoSW1hZ2UsIHBvcHVwU3VibWl0LCBhcGkgfSBmcm9tICcuLi8uLi9wYWdlcy9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYXJkKG5hbWUsIGxpbmssIGxpa2VzLCBpZCwgb3duZXIsIGN1cnJlbnRVc2VyKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBhcGksXG4gICAgeyBuYW1lLCBsaW5rLCBsaWtlcywgaWQsIG93bmVyIH0sXG4gICAgY3VycmVudFVzZXIsXG4gICAgJyNtZXN0by1jYXJkJyxcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuLFxuICAgIHBvcHVwU3VibWl0Lm9wZW4sXG4gICAgcG9wdXBTdWJtaXQuY2xvc2UsXG4gICk7XG4gIHJldHVybiBjYXJkLmNyZWF0ZU1lc3RvQ2FyZCgpO1xufVxuIiwiaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7XG4gIGFsbENsYXNzZXMsXG4gIHByb2ZpbGVCdXR0b24sXG4gIHByb2ZpbGVCdXR0b25BZGQsXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGhhbmRsZVByb2ZpbGVTdWJtaXQsIGhhbmRsZUFkZE1lc3RvU3VibWl0LCBoYW5kbGVFZGl0QXZhdGFyIH0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9oYW5kbGVycy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYXJkIH0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9oZWxwZXJzLmpzJztcblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmNvbnN0IHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yID0gXCIucG9wdXAucG9wdXBfdHlwZV91cGRhdGVcIjtcbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yLCBoYW5kbGVFZGl0QXZhdGFyLCBuZXcgRm9ybVZhbGlkYXRvcihhbGxDbGFzc2VzLCBwb3B1cEVkaXRBdmF0YXJTZWxlY3RvcikpO1xuXG5leHBvcnQgY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IGFsbENsYXNzZXMubmFtZVNlbGVjdG9yLFxuICBhYm91dFNlbGVjdG9yOiBhbGxDbGFzc2VzLmFib3V0U2VsZWN0b3IsXG4gIGZvdG9TZWxlY3RvcjogYWxsQ2xhc3Nlcy5mb3RvQ29udGFpbmVyLFxuICBoYW5kbGVDbGljazogcG9wdXBFZGl0QXZhdGFyLm9wZW4sXG4gIGZvdG9JbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19uYW1lLnBvcHVwX19uYW1lX3R5cGVfdXBkYXRlJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cC5wb3B1cF90eXBlX2ltYWdlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBTdWJtaXQgPSBuZXcgUG9wdXBXaXRoU3VibWl0KCcucG9wdXAucG9wdXBfdHlwZV9jb25maXJtJyk7XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjYvJyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICc4MjI1NmYyNS0zNjVjLTQ2YWMtYWExZi1hODQ2MTI5ZjZkNzcnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnUE9TVCwgR0VULCBERUxFVEUnLFxuICB9XG59KTtcblxuY29uc3QgcmVuZGVyZXIgPSAoeyBuYW1lLCBsaW5rLCBsaWtlcywgb3duZXIsIF9pZCB9LCBjdXJyZW50VXNlcikgPT4gY3JlYXRlQ2FyZChuYW1lLCBsaW5rLCBsaWtlcywgX2lkLCBvd25lciwgY3VycmVudFVzZXIpO1xuZXhwb3J0IGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IGFwaSwgcmVuZGVyZXIsIHVzZXJJbmZvIH0sICcuZWxlbWVudHMnKTtcblxuY29uc3QgcG9wdXBXaXRoVXNlckZvcm1TZWxlY3RvciA9ICcucG9wdXAucG9wdXBfdHlwZV9lZGl0JztcbmNvbnN0IHBvcHVwV2l0aFVzZXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBXaXRoVXNlckZvcm1TZWxlY3RvciwgaGFuZGxlUHJvZmlsZVN1Ym1pdCwgbmV3IEZvcm1WYWxpZGF0b3IoYWxsQ2xhc3NlcywgcG9wdXBXaXRoVXNlckZvcm1TZWxlY3RvcikpO1xuXG5jb25zdCBwb3B1cFdpdGhBZGRNZXN0b0Zvcm1TZWxlY3RvciA9ICcucG9wdXAucG9wdXBfdHlwZV9uZXctY2FyZCdcbmNvbnN0IHBvcHVwV2l0aEFkZE1lc3RvRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwV2l0aEFkZE1lc3RvRm9ybVNlbGVjdG9yLCBoYW5kbGVBZGRNZXN0b1N1Ym1pdCwgbmV3IEZvcm1WYWxpZGF0b3IoYWxsQ2xhc3NlcywgcG9wdXBXaXRoQWRkTWVzdG9Gb3JtU2VsZWN0b3IpKTtcblxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwV2l0aFVzZXJGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFdpdGhBZGRNZXN0b0Zvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwU3VibWl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxudXNlckluZm8uZm90b0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIHVzZXJJbmZvLnVwZGF0ZVVzZXJJbmZvT25QYWdlKCk7XG4gIHVzZXJJbmZvLmhhbmRsZUNsaWNrKGUpO1xufSk7XG5cbmZ1bmN0aW9uIHNldElucHV0VmFsdWVzKHVzZXJJbmZvLCBuYW1lSW5wdXQsIGpvYklucHV0KSB7XG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgam9iSW5wdXQudmFsdWUgPSBhYm91dDtcbn1cblxucHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgc2V0SW5wdXRWYWx1ZXModXNlckluZm8sIG5hbWVJbnB1dCwgam9iSW5wdXQpO1xuICBwb3B1cFdpdGhVc2VyRm9ybS5vcGVuKCk7XG59KTtcblxucHJvZmlsZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBvcHVwV2l0aEFkZE1lc3RvRm9ybS5vcGVuKVxuXG5hcGkuZ2V0SW5mb0Fib3V0UGVvcGxlKCkudGhlbigoaW5mbykgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhpbmZvKTtcblxuICBzZWN0aW9uLmluaXRDYXJkcygpLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQutCw0YDRgtC+0YfQutC4JywgZXJyKTtcbiAgfSk7XG59KS5jYXRjaChlcnIgPT4ge1xuICBjb25zb2xlLmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1JywgZXJyKTtcbn0pO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ2FyZCB9IGZyb20gJy4vaGVscGVycy5qcyc7XG5pbXBvcnQgeyB1c2VySW5mbywgc2VjdGlvbiwgYXBpIH0gZnJvbSAnLi4vLi4vcGFnZXMvaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUHJvZmlsZVN1Ym1pdChldnQsIHZhbHVlcywgcG9wdXApIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgYXBpLnVwZGF0ZUVkaXRQcm9maWxlKHsgbmFtZTogdmFsdWVzLm5hbWUsIGFib3V0OiB2YWx1ZXMuam9iIH0pLnRoZW4oKHsgbmFtZSwgYWJvdXQ6IGpvYiB9KSA9PiB7XG4gICAgcG9wdXAuY2xvc2UoKTtcbiAgICBwb3B1cC5yZXNldFN1Ym1pdEJ1dHRvblRleHQoKTtcbiAgICB1c2VySW5mby51cGRhdGVOYW1lQW5kSm9iKHsgbmFtZSwgam9iIH0pO1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQvtCx0L3QvtCy0LjRgtGMINC/0YDQvtGE0LjQu9GMJywgZXJyKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBZGRNZXN0b1N1Ym1pdChlLCB2YWx1ZXMsIHBvcHVwKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgeyBtZXN0bywgbGluayB9ID0gdmFsdWVzO1xuXG4gIGFwaS5hZGROZXfQoWFyZCh7IG5hbWU6IG1lc3RvLCBsaW5rIH0pLnRoZW4oKHsgbmFtZSwgb3duZXIsIGxpa2VzLCBfaWQgfSkgPT4ge1xuICAgIHBvcHVwLmNsb3NlKCk7XG4gICAgcG9wdXAucmVzZXRTdWJtaXRCdXR0b25UZXh0KCk7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKG5hbWUsIGxpbmssIGxpa2VzLCBfaWQsIG93bmVyLCBjdXJyZW50VXNlcikpO1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQtNC+0LHQsNCy0LjRgtGMINC90L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRgycsIGVycik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRWRpdEF2YXRhcihlLCB2YWx1ZXMsIHBvcHVwKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBhcGkudXBkYXRlRWRpdEF2YXRhcih2YWx1ZXNbJ2xpbmstYXZhdGFyJ10pLnRoZW4oKHsgYXZhdGFyIH0pID0+IHtcbiAgICBwb3B1cC5jbG9zZSgpO1xuICAgIHBvcHVwLnJlc2V0U3VibWl0QnV0dG9uVGV4dCgpO1xuICAgIHVzZXJJbmZvLnVwZGF0ZUF2YXRhclVybChhdmF0YXIpO1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQvtCx0L3QvtCy0LjRgtGMINCw0LLQsNGC0LDRgCcsIGVycik7XG4gIH0pO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==