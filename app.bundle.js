(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.allClasses=e,this.form=n}var o,r;return o=t,(r=[{key:"_validateInput",value:function(e,t,n){e.validity.valid?this._hideInputError(t):(this._showInputError(e,t),this._disableButton(n)),this.form.checkValidity()&&(n.disabled=!1)}},{key:"_showInputError",value:function(e,t){t.textContent=e.validationMessage}},{key:"_disableButton",value:function(e){e.disabled=!0}},{key:"_hideInputError",value:function(e){e.textContent=""}},{key:"_addValidationsToInputs",value:function(e,t){var n=this;t.forEach((function(t){var o=t.querySelector(n.allClasses.inputSelector),r=t.querySelector(n.allClasses.inputErrorSelector);o.addEventListener("input",(function(t){n._validateInput(t.target,r,e)}))}))}},{key:"enableValidations",value:function(){var e=Array.from(this.form.querySelectorAll(this.allClasses.inputContainerSelector)),t=this.form.querySelector(this.allClasses.submitButtonSelector);this._addValidationsToInputs(t,e),n(this.allClasses)}}])&&e(o.prototype,r),t}();function n(e){Array.from(document.querySelectorAll(e.disabledButtonSelector)).forEach((function(e){e.disabled=!0}))}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){var n=t.nameSelector,o=t.aboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.profileTitle=document.querySelector(n),this.profileSubtitle=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this.profileTitle.textContent,about:this.profileSubtitle.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this.profileTitle.textContent=t,this.profileSubtitle.textContent=n}}])&&o(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t,n){var o=t.api,r=t.renderer,i=t.userInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.userInfo=i,this.renderer=r,this.container=document.querySelector(n),this.onSuccess=this.onSuccess.bind(this)}var t,n;return t=e,(n=[{key:"initCards",value:function(){this.api.getInitialCards(this.onSuccess)}},{key:"onSuccess",value:function(e){this.items=e,this.render()}},{key:"render",value:function(){var e=this,t=this.userInfo.getUserInfo();this.items.forEach((function(n){var o=e.renderer(n,t);e.addItem(o)}))}},{key:"addItem",value:function(e){this.container.prepend(e)}}])&&i(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=document.querySelector(t),this.submitButton=this.popup.querySelector('button[type="submit"]'),this.submitButton&&(this.defaultSubmitButtonText=this.submitButton.textContent),this.open=this.open.bind(this),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){27===e.keyCode&&this.close()}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this.popup.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleClosePopupEsc),this.popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var e=this;this.popup.querySelector(".popup__close-icon").addEventListener("click",this.close),this.popup.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()}))}},{key:"updateSubmitButtonText",value:function(e){this.submitButton&&(this.submitButton.textContent=e)}},{key:"resetSubmitButtonText",value:function(){this.updateSubmitButtonText(this.defaultSubmitButtonText)}}])&&c(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(r){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){return l(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"open",value:function(e){p(y(u.prototype),"open",this).call(this);var t=this.popup.querySelector("img");t.src=e.target.src,t.alt=e.target.alt;var n=e.target.closest(".mesto-card").querySelector(".mesto-card__subtitle-name");this.popup.querySelector(".popup__text").textContent=n.textContent}}])&&f(t.prototype,n),u}(a);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(o);if(r){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).submitFormHandler=t,n.form=n.popup.querySelector("form"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this.form.querySelectorAll("input").forEach((function(t){e[t.id]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;_(w(u.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",(function(t){e.updateSubmitButtonText("Сохранение..."),e.submitFormHandler(t,e._getInputValues(),(function(){e.close(),e.resetSubmitButtonText()}))}))}},{key:"close",value:function(){_(w(u.prototype),"close",this).call(this),this.form.reset()}}])&&m(t.prototype,n),u}(a);function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var C=function(){function e(t,n,o,r,i,u){var c=n.name,a=n.link,s=n.likes,l=n.id,f=n.owner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=l,this.api=t,this.name=c,this.link=a,this.likes=s,this.owner=f,this.currentUser=o,this.template=document.querySelector(r),this.handleCardClick=i,this.handleDeleteClick=u}var t,n;return t=e,(n=[{key:"_addLike",value:function(e){var t=e.target.closest(".mesto-card__subtitle-like").querySelector(".mesto-card__subtitle-icon-like");e.target.classList.contains("mesto-card__subtitle-icon_active")?this.api.updateLike(this.id,(function(n){e.target.classList.remove("mesto-card__subtitle-icon_active"),t.textContent=n.likes.length}),!0):this.api.updateLike(this.id,(function(n){e.target.classList.add("mesto-card__subtitle-icon_active"),t.textContent=n.likes.length}))}},{key:"_deleteCard",value:function(e){var t=e.target.closest(".mesto-card");this.api.deleteCard(this.id,(function(){t.remove()}))}},{key:"_onDeleteButtonClick",value:function(e){var t=this;this.handleDeleteClick((function(){t._deleteCard(e)}))}},{key:"_showPhoto",value:function(e){this.handleCardClick(e)}},{key:"_getTemplate",value:function(){return this.template.content.cloneNode(!0)}},{key:"_setEventListeners",value:function(e){var t=this;e.querySelector(".mesto-card__subtitle-icon").addEventListener("click",(function(e){return t._addLike(e)})),e.querySelector(".mesto-card__trash").addEventListener("click",(function(e){return t._onDeleteButtonClick(e)})),e.querySelector(".mesto-card__photo").addEventListener("click",(function(e){return t._showPhoto(e)}))}},{key:"_showTrash",value:function(e){this.currentUser.name===this.owner&&(e.querySelector(".mesto-card__trash").style.display="block")}},{key:"_showIsLiked",value:function(e){var t=this;this.likes.find((function(e){return e.name===t.currentUser.name}))&&e.querySelector(".mesto-card__subtitle-icon").classList.add("mesto-card__subtitle-icon_active")}},{key:"createMestoCard",value:function(){var e=this._getTemplate(),t=e.querySelector(".mesto-card__photo"),n=e.querySelector(".mesto-card__subtitle-icon-like");return t.src=this.link,t.alt=this.name,n.textContent=this.likes.length,e.querySelector(".mesto-card__subtitle-name").textContent=this.name,this._showTrash(e),this._showIsLiked(e),this._setEventListeners(e),e}}])&&E(t.prototype,n),e}();function O(e,t,n,o,r){return new C(W,{name:e,link:t,likes:n,id:o},r,"#mesto-card",J.open,K.open).createMestoCard()}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(o);if(r){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).form=t.popup.querySelector("form"),t}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;L(x(u.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",(function(t){t.preventDefault(),e.submitFormHandler(),e.close()}))}},{key:"open",value:function(e){L(x(u.prototype),"open",this).call(this),this.submitFormHandler=e}}])&&P(t.prototype,n),u}(a);function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var B=function(){function e(t){var n=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.headers=o}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(e){fetch(this.baseUrl+"cards",{headers:this.headers}).then((function(t){t.json().then((function(t){return e(t)}))})).catch((function(e){console.log(e)}))}},{key:"getInfoAboutPeople",value:function(e){fetch(this.baseUrl+"users/me/",{headers:this.headers}).then((function(t){t.json().then((function(t){return e(t)}))})).catch((function(e){console.log(e)}))}},{key:"updateEditProfile",value:function(e,t){fetch(this.baseUrl+"users/me/",{method:"PATCH",headers:this.headers,body:JSON.stringify(e)}).then((function(e){if(!e.ok)return Promise.reject("Ошибка: ".concat(e.status));t()})).catch((function(e){return Promise.reject("Ошибка: ".concat(e))}))}},{key:"updateEditAvatar",value:function(e,t){fetch(this.baseUrl+"users/me/avatar",{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(n){n.ok&&t(e)})).catch((function(){alert("Ошибка обновления аватара")}))}},{key:"addNewСard",value:function(e,t){fetch(this.baseUrl+"cards",{method:"POST",headers:this.headers,body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){t(e)}))})).catch((function(){alert("Пау-пау-пау-пааааау")}))}},{key:"deleteCard",value:function(e,t){fetch(this.baseUrl+"cards/"+e,{method:"DELETE",headers:this.headers}).then((function(e){e.ok?e.json().then((function(e){t(e)})):alert("Пау-пау-пау-пааааау")})).catch((function(){alert("Пау-пау-пау-пааааау")}))}},{key:"updateLike",value:function(e,t,n){fetch(this.baseUrl+"cards/likes/"+e,{method:n?"DELETE":"PUT",headers:this.headers}).then((function(e){e.ok?e.json().then((function(e){t(e)})):alert("Пау-пау-пау-пааааау")})).catch((function(){alert("Пау-пау-пау-пааааау")}))}}])&&R(t.prototype,n),e}(),U={formSelector:".popup__input",submitButtonSelector:".popup__button",inputContainerSelector:".popup__name-container",inputSelector:".popup__name",inputErrorSelector:".popup__name.popup__name_type_err",disabledButtonSelector:".popup__container_new-card .popup__button",nameSelector:".profile__info-title"},A=document.querySelector(".profile").querySelector(".profile__button"),D=document.querySelector(".profile__button-add"),V=(document.querySelector(".mesto-card__trash"),document.querySelector(U.nameSelector)),H=document.querySelector(".profile__info-subtitle"),N=document.querySelector(".profile__foto"),F=Array.from(document.querySelectorAll(U.formSelector)),M=new r({nameSelector:U.nameSelector,aboutSelector:".profile__info-subtitle"}),J=new v(".popup.popup_type_image"),z=new g(".popup.popup_type_edit",(function(e,t,n){e.preventDefault();var o=t.name,r=t.job;M.setUserInfo({name:o,job:r}),W.updateEditProfile({name:o,about:r},n)}),M),G=new g(".popup.popup_type_new-card",(function(e,t,o){e.preventDefault();var r=t.mesto,i=t.link;W["addNewСard"]({name:r,link:i},(function(e){var t=e.name,r=e.owner,u=e.likes,c=e._id;o();var a=M.getUserInfo().name===r.name;X.addItem(O(t,i,u,c,a)),n(U)}))}),M),K=new I(".popup.popup_type_confirm"),Q=(document.querySelector(".popup_type_new-card"),new g(".popup.popup_type_update",(function(e,t,n){e.preventDefault();var o=t.link;W.updateEditAvatar(o,(function(e){n(),N.src=e}))}))),W=new B({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26/",headers:{authorization:"82256f25-365c-46ac-aa1f-a846129f6d77","Content-Type":"application/json","Access-Control-Allow-Methods":"POST, GET, DELETE"}}),X=new u({api:W,renderer:function(e,t){return O(e.name,e.link,e.likes,e._id,t)},userInfo:M},".elements");function Y(e){var t=document.querySelector("#name"),n=document.querySelector("#job"),o=e.getUserInfo(),r=o.name,i=o.about;t.value=r,n.value=i}F.forEach((function(e){new t(U,e).enableValidations()})),J.setEventListeners(),z.setEventListeners(),G.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),A.addEventListener("click",(function(){z.open(),Y(M)})),N.addEventListener("click",(function(){Q.open(),Y(M)})),D.addEventListener("click",G.open),W.getInfoAboutPeople((function(e){V.textContent=e.name,H.textContent=e.about,N.src=e.avatar,X.initCards()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL0NhcmRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvaGVscGVycy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL2hhbmRsZXJzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJhbGxDbGFzc2VzIiwiZm9ybSIsInRoaXMiLCJpbnB1dCIsImVycm9yRWxlbWVudCIsImZvcm1CdXR0b24iLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2Rpc2FibGVCdXR0b24iLCJjaGVja1ZhbGlkaXR5IiwiZGlzYWJsZWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiYnV0dG9uIiwiZm9ybUlucHV0cyIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsImlucHV0RXJyb3JTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiX3ZhbGlkYXRlSW5wdXQiLCJ0YXJnZXQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRDb250YWluZXJTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2FkZFZhbGlkYXRpb25zVG9JbnB1dHMiLCJkaXNhYmxlU3VibWl0QnV0dG9ucyIsImRvY3VtZW50IiwiZGlzYWJsZWRCdXR0b25TZWxlY3RvciIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVTdWJ0aXRsZSIsIm5hbWUiLCJhYm91dCIsImpvYiIsIlNlY3Rpb24iLCJzZWxlY3RvciIsImFwaSIsInJlbmRlcmVyIiwidXNlckluZm8iLCJjb250YWluZXIiLCJvblN1Y2Nlc3MiLCJiaW5kIiwiZ2V0SW5pdGlhbENhcmRzIiwiZGF0YSIsIml0ZW1zIiwicmVuZGVyIiwiY3VycmVudFVzZXIiLCJnZXRVc2VySW5mbyIsIml0ZW0iLCJyZW5kZXJlZEl0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwIiwic3VibWl0QnV0dG9uIiwiZGVmYXVsdFN1Ym1pdEJ1dHRvblRleHQiLCJvcGVuIiwiY2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJrZXlDb2RlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDbG9zZVBvcHVwRXNjIiwicmVtb3ZlIiwiY29udGFpbnMiLCJ0ZXh0IiwidXBkYXRlU3VibWl0QnV0dG9uVGV4dCIsIlBvcHVwV2l0aEltYWdlIiwiY2FyZCIsInNyYyIsImFsdCIsInN1YnRpdGxlIiwiY2xvc2VzdCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtSGFuZGxlciIsInZhbHVlcyIsImlkIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldFN1Ym1pdEJ1dHRvblRleHQiLCJyZXNldCIsIkNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJsaW5rIiwibGlrZXMiLCJvd25lciIsInRlbXBsYXRlIiwibGlrZUNvdW50Q29udGFpbmVyIiwidXBkYXRlTGlrZSIsImxlbmd0aCIsImRlbGV0ZUNhcmQiLCJfZGVsZXRlQ2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJuZXdDYXJkIiwiX2FkZExpa2UiLCJfb25EZWxldGVCdXR0b25DbGljayIsIl9zaG93UGhvdG8iLCJzdHlsZSIsImRpc3BsYXkiLCJmaW5kIiwiZWx0IiwiX2dldFRlbXBsYXRlIiwibWVzdG8iLCJsaWtlIiwiX3Nob3dUcmFzaCIsIl9zaG93SXNMaWtlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsInBvcHVwU3VibWl0IiwiY3JlYXRlTWVzdG9DYXJkIiwiUG9wdXBXaXRoU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJvblN1Ym1pdCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInByb2ZpbGVEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJhbGVydCIsImNhcmREYXRhIiwiY2FyZElkIiwiaXNEZWxldGUiLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlQnV0dG9uIiwicHJvZmlsZUJ1dHRvbkFkZCIsIm5hbWVDb250YWluZXIiLCJhYm91dENvbnRhaW5lciIsImZvdG9Db250YWluZXIiLCJmb3JtcyIsInBvcHVwV2l0aFVzZXJGb3JtIiwiZXZ0IiwicG9wdXBXaXRoQWRkTWVzdG9Gb3JtIiwiX2lkIiwiaXNPd25lciIsInNlY3Rpb24iLCJwb3B1cEVkaXRBdmF0YXIiLCJhdXRob3JpemF0aW9uIiwic2V0SW5wdXRWYWx1ZXMiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImVuYWJsZVZhbGlkYXRpb25zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJnZXRJbmZvQWJvdXRQZW9wbGUiXSwibWFwcGluZ3MiOiJ5TEFFTyxJQUFNQSxFQUFiLFdBQ0UsV0FBWUMsRUFBWUMsSSw0RkFBTSxTQUM1QkMsS0FBS0YsV0FBYUEsRUFDbEJFLEtBQUtELEtBQU9BLEUsUUFIaEIsTyxFQUFBLEcsRUFBQSw2QkFNRSxTQUFlRSxFQUFPQyxFQUFjQyxHQUM3QkYsRUFBTUcsU0FBU0MsTUFJbEJMLEtBQUtNLGdCQUFnQkosSUFIckJGLEtBQUtPLGdCQUFnQk4sRUFBT0MsR0FDNUJGLEtBQUtRLGVBQWVMLElBSWxCSCxLQUFLRCxLQUFLVSxrQkFDWk4sRUFBV08sVUFBVyxLQWQ1Qiw2QkFrQkUsU0FBZ0JULEVBQU9DLEdBQ3JCQSxFQUFhUyxZQUFjVixFQUFNVyxvQkFuQnJDLDRCQXNCRSxTQUFlQyxHQUNiQSxFQUFPSCxVQUFXLElBdkJ0Qiw2QkEwQkUsU0FBZ0JSLEdBQ2RBLEVBQWFTLFlBQWMsS0EzQi9CLHFDQThCRSxTQUF3QlIsRUFBWVcsR0FBWSxXQUM5Q0EsRUFBV0MsU0FBUSxTQUFBZCxHQUNqQixJQUFNZSxFQUFlZixFQUFNZ0IsY0FBYyxFQUFLbkIsV0FBV29CLGVBQ25EaEIsRUFBZUQsRUFBTWdCLGNBQWMsRUFBS25CLFdBQVdxQixvQkFDekRILEVBQWFJLGlCQUFpQixTQUFTLFNBQUNDLEdBQ3RDLEVBQUtDLGVBQWVELEVBQUVFLE9BQVFyQixFQUFjQyxXQW5DcEQsK0JBd0NFLFdBQ0UsSUFBTVcsRUFBYVUsTUFBTUMsS0FBS3pCLEtBQUtELEtBQUsyQixpQkFBaUIxQixLQUFLRixXQUFXNkIseUJBQ25FeEIsRUFBYUgsS0FBS0QsS0FBS2tCLGNBQWNqQixLQUFLRixXQUFXOEIsc0JBRTNENUIsS0FBSzZCLHdCQUF3QjFCLEVBQVlX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WixFQUFrQlksb0JBQ2xCVixFQUFzQlUsb0JBQ3RCbEQsRUFBWWtELG9CQUNaTixFQUFnQk0sb0JBRWhCbEIsRUFBY3JJLGlCQUFpQixTQUFTLFdBQ3RDMkksU0FDQVEsRUFBZTFILE1BSWpCZ0gsRUFBY3pJLGlCQUFpQixTQUFTLFdBQ3RDaUosU0FDQUUsRUFBZTFILE1BSWpCNkcsRUFBaUJ0SSxpQkFBaUIsUUFBUzZJLEVBQXNCakcsTUFFakVyQixFQUFJaUksb0JBQW1CLFNBQUMxSCxHQUN0QnlHLGNBQTRCekcsRUFBS1osS0FDakNzSCxjQUE2QjFHLEVBQUtYLE1BQ2xDc0gsTUFBb0IzRyxFQUFLaUcsT0FFekJpQixrQiIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoYWxsQ2xhc3NlcywgZm9ybSkge1xuICAgIHRoaXMuYWxsQ2xhc3NlcyA9IGFsbENsYXNzZXM7XG4gICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgfVxuXG4gIF92YWxpZGF0ZUlucHV0KGlucHV0LCBlcnJvckVsZW1lbnQsIGZvcm1CdXR0b24pIHtcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCwgZXJyb3JFbGVtZW50KTtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oZm9ybUJ1dHRvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVycm9yRWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICBmb3JtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0LCBlcnJvckVsZW1lbnQpIHtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKGJ1dHRvbikge1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoZXJyb3JFbGVtZW50KSB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9hZGRWYWxpZGF0aW9uc1RvSW5wdXRzKGZvcm1CdXR0b24sIGZvcm1JbnB1dHMpIHtcbiAgICBmb3JtSW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gaW5wdXQucXVlcnlTZWxlY3Rvcih0aGlzLmFsbENsYXNzZXMuaW5wdXRTZWxlY3RvcilcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0LnF1ZXJ5U2VsZWN0b3IodGhpcy5hbGxDbGFzc2VzLmlucHV0RXJyb3JTZWxlY3Rvcik7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUlucHV0KGUudGFyZ2V0LCBlcnJvckVsZW1lbnQsIGZvcm1CdXR0b24pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb25zKCkge1xuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuYWxsQ2xhc3Nlcy5pbnB1dENvbnRhaW5lclNlbGVjdG9yKSk7XG4gICAgY29uc3QgZm9ybUJ1dHRvbiA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuYWxsQ2xhc3Nlcy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9hZGRWYWxpZGF0aW9uc1RvSW5wdXRzKGZvcm1CdXR0b24sIGZvcm1JbnB1dHMpO1xuICAgIGRpc2FibGVTdWJtaXRCdXR0b25zKHRoaXMuYWxsQ2xhc3Nlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTdWJtaXRCdXR0b25zKGFsbENsYXNzZXMpIHtcbiAgY29uc3QgZGlzYWJsZWRCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFsbENsYXNzZXMuZGlzYWJsZWRCdXR0b25TZWxlY3RvcikpO1xuICBkaXNhYmxlZEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldEZvcm1zRXJyb3JzKGZvcm1zLCBhbGxDbGFzc2VzKSB7XG4gIGZvcm1zLmZvckVhY2goZnVuY3Rpb24gKGZvcm0pIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGFsbENsYXNzZXMuaW5wdXRFcnJvclNlbGVjdG9yKTtcbiAgICBlcnJvckVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LnRleHRDb250ZW50ID0gXCJcIik7XG4gIH0pXG59XG5cblxuXG5cblxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IgfSkge1xuICAgIHRoaXMucHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMucHJvZmlsZVN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLnByb2ZpbGVUaXRsZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLnByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xuICAgIHRoaXMucHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLnByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBhcGksIHJlbmRlcmVyLCB1c2VySW5mbyB9LCBzZWxlY3Rvcikge1xuICAgIHRoaXMuYXBpID0gYXBpO1xuICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLm9uU3VjY2VzcyA9IHRoaXMub25TdWNjZXNzLmJpbmQodGhpcyk7XG4gIH1cblxuICBpbml0Q2FyZHMoKSB7XG4gICAgdGhpcy5hcGkuZ2V0SW5pdGlhbENhcmRzKHRoaXMub25TdWNjZXNzKTtcbiAgfVxuXG4gIG9uU3VjY2VzcyhkYXRhKSB7XG4gICAgdGhpcy5pdGVtcyA9IGRhdGE7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHRoaXMudXNlckluZm8uZ2V0VXNlckluZm8oKTtcblxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IHJlbmRlcmVkSXRlbSA9IHRoaXMucmVuZGVyZXIoaXRlbSwgY3VycmVudFVzZXIpO1xuICAgICAgdGhpcy5hZGRJdGVtKHJlbmRlcmVkSXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJjb25zdCBFU0NBUEVfS0VZQ09ERSA9IDI3O1xuXG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHRoaXMucG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcblxuICAgIGlmICh0aGlzLnN1Ym1pdEJ1dHRvbikge1xuICAgICAgdGhpcy5kZWZhdWx0U3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIHRoaXMub3BlbiA9IHRoaXMub3Blbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUNsb3NlUG9wdXBFc2MpO1xuICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUljb24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtaWNvbicpO1xuICAgIGNsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVN1Ym1pdEJ1dHRvblRleHQodGV4dCkge1xuICAgIGlmICh0aGlzLnN1Ym1pdEJ1dHRvbikge1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0U3VibWl0QnV0dG9uVGV4dCgpIHtcbiAgICB0aGlzLnVwZGF0ZVN1Ym1pdEJ1dHRvblRleHQodGhpcy5kZWZhdWx0U3VibWl0QnV0dG9uVGV4dClcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4oZSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICBjb25zdCBjYXJkID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICBjYXJkLnNyYyA9IGUudGFyZ2V0LnNyYztcbiAgICBjYXJkLmFsdCA9IGUudGFyZ2V0LmFsdDtcbiAgICBjb25zdCBwYXJlbnQgPSBlLnRhcmdldC5jbG9zZXN0KCcubWVzdG8tY2FyZCcpO1xuICAgIGNvbnN0IHN1YnRpdGxlID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1uYW1lJyk7XG4gICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHQnKS50ZXh0Q29udGVudCA9IHN1YnRpdGxlLnRleHRDb250ZW50O1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgc3VibWl0Rm9ybUhhbmRsZXIpIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgdGhpcy5zdWJtaXRGb3JtSGFuZGxlciA9IHN1Ym1pdEZvcm1IYW5kbGVyO1xuICAgIHRoaXMuZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlU3VibWl0QnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcbiAgICAgIHRoaXMuc3VibWl0Rm9ybUhhbmRsZXIoZSwgdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMucmVzZXRTdWJtaXRCdXR0b25UZXh0KCk7XG4gICAgICB9KTtcbiAgICB9KVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcGksXG4gICAgeyBuYW1lLCBsaW5rLCBsaWtlcywgaWQsIG93bmVyIH0sXG4gICAgY3VycmVudFVzZXIsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGluayA9IGxpbms7XG4gICAgdGhpcy5saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XG5cbiAgICB0aGlzLnRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZVNlbGVjdG9yKTtcbiAgICB0aGlzLmhhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLmhhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gIH1cblxuICAvKiog0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LggKi9cblxuICBfYWRkTGlrZShlKSB7XG4gICAgY29uc3QgbGlrZUNvbnRhaW5lciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1saWtlJyk7XG4gICAgY29uc3QgbGlrZUNvdW50Q29udGFpbmVyID0gbGlrZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fc3VidGl0bGUtaWNvbi1saWtlJyk7XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZXN0by1jYXJkX19zdWJ0aXRsZS1pY29uX2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLmFwaS51cGRhdGVMaWtlKHRoaXMuaWQsIChkYXRhKSA9PiB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ21lc3RvLWNhcmRfX3N1YnRpdGxlLWljb25fYWN0aXZlJyk7XG4gICAgICAgIGxpa2VDb3VudENvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBpLnVwZGF0ZUxpa2UodGhpcy5pZCwgKGRhdGEpID0+IHtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbWVzdG8tY2FyZF9fc3VidGl0bGUtaWNvbl9hY3RpdmUnKTtcbiAgICAgICAgbGlrZUNvdW50Q29udGFpbmVyLnRleHRDb250ZW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfZGVsZXRlQ2FyZChlKSB7XG4gICAgY29uc3QgY2FyZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tZXN0by1jYXJkJyk7XG5cbiAgICB0aGlzLmFwaS5kZWxldGVDYXJkKHRoaXMuaWQsICgpID0+IHtcbiAgICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfb25EZWxldGVCdXR0b25DbGljayhlKSB7XG4gICAgdGhpcy5oYW5kbGVEZWxldGVDbGljaygoKSA9PiB7IHRoaXMuX2RlbGV0ZUNhcmQoZSk7IH0pO1xuICB9XG5cbiAgX3Nob3dQaG90byhlKSB7XG4gICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2soZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKG5ld0NhcmQpIHtcbiAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1pY29uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5fYWRkTGlrZShlKSk7XG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcubWVzdG8tY2FyZF9fdHJhc2gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLl9vbkRlbGV0ZUJ1dHRvbkNsaWNrKGUpKTtcbiAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19waG90bycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuX3Nob3dQaG90byhlKSk7XG4gIH1cblxuICBfc2hvd1RyYXNoKG5ld0NhcmQpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlci5uYW1lID09PSB0aGlzLm93bmVyKSB7XG4gICAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX190cmFzaCcpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICB9XG4gIH1cblxuICBfc2hvd0lzTGlrZWQobmV3Q2FyZCkge1xuICAgIGNvbnN0IG15TGlrZSA9IHRoaXMubGlrZXMuZmluZCgoZWx0KSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBlbHQubmFtZSA9PT0gdGhpcy5jdXJyZW50VXNlci5uYW1lO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgICBpZiAobXlMaWtlKSB7XG4gICAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1pY29uJykuY2xhc3NMaXN0LmFkZCgnbWVzdG8tY2FyZF9fc3VidGl0bGUtaWNvbl9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVNZXN0b0NhcmQoKSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgY29uc3QgbWVzdG8gPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19waG90bycpO1xuICAgIGNvbnN0IGxpa2UgPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1pY29uLWxpa2UnKTtcbiAgICBtZXN0by5zcmMgPSB0aGlzLmxpbms7XG4gICAgbWVzdG8uYWx0ID0gdGhpcy5uYW1lO1xuICAgIGxpa2UudGV4dENvbnRlbnQgPSB0aGlzLmxpa2VzLmxlbmd0aDtcbiAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX19zdWJ0aXRsZS1uYW1lJykudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5fc2hvd1RyYXNoKG5ld0NhcmQpO1xuICAgIHRoaXMuX3Nob3dJc0xpa2VkKG5ld0NhcmQpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMobmV3Q2FyZCk7XG4gICAgcmV0dXJuIG5ld0NhcmQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9DYXJkcy5qcyc7XG5pbXBvcnQgeyBwb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHBvcHVwU3VibWl0IH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rLCBsaWtlcywgaWQsIGN1cnJlbnRVc2VyKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBhcGksXG4gICAgeyBuYW1lLCBsaW5rLCBsaWtlcywgaWQgfSxcbiAgICBjdXJyZW50VXNlcixcbiAgICAnI21lc3RvLWNhcmQnLFxuICAgIHBvcHVwV2l0aEltYWdlLm9wZW4sXG4gICAgcG9wdXBTdWJtaXQub3BlbixcbiAgKTtcbiAgcmV0dXJuIGNhcmQuY3JlYXRlTWVzdG9DYXJkKCk7XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc3VibWl0Rm9ybUhhbmRsZXIoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KVxuICB9XG5cbiAgb3BlbihvblN1Ym1pdCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLnN1Ym1pdEZvcm1IYW5kbGVyID0gb25TdWJtaXQ7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcyhvblN1Y2Nlc3MpIHtcbiAgICBmZXRjaCh0aGlzLmJhc2VVcmwgKyAnY2FyZHMnLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXMuanNvbigpLnRoZW4oZGF0YSA9PiBvblN1Y2Nlc3MoZGF0YSkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldEluZm9BYm91dFBlb3BsZShvblN1Y2Nlc3MpIHtcbiAgICBmZXRjaCh0aGlzLmJhc2VVcmwgKyAndXNlcnMvbWUvJywgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmVzLmpzb24oKS50aGVuKGRhdGEgPT4gb25TdWNjZXNzKGRhdGEpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVFZGl0UHJvZmlsZShwcm9maWxlRGF0YSwgb25TdWNjZXNzKSB7XG4gICAgZmV0Y2goXG4gICAgICB0aGlzLmJhc2VVcmwgKyAndXNlcnMvbWUvJyxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHByb2ZpbGVEYXRhKSxcbiAgICAgIH0sXG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUVkaXRBdmF0YXIoYXZhdGFyVXJsLCBvblN1Y2Nlc3MpIHtcbiAgICBmZXRjaChcbiAgICAgIHRoaXMuYmFzZVVybCArICd1c2Vycy9tZS9hdmF0YXInLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGF2YXRhclVybCB9KSxcbiAgICAgIH0sXG4gICAgKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5vaykge1xuICAgICAgICBvblN1Y2Nlc3MoYXZhdGFyVXJsKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICBhbGVydChcItCe0YjQuNCx0LrQsCDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsFwiKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgYWRkTmV30KFhcmQoY2FyZERhdGEsIG9uU3VjY2Vzcykge1xuICAgIGZldGNoKFxuICAgICAgdGhpcy5iYXNlVXJsICsgJ2NhcmRzJyxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpLFxuICAgICAgfSxcbiAgICApLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGRhdGEuanNvbigpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIG9uU3VjY2VzcyhkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KFwi0J/QsNGDLdC/0LDRgy3Qv9Cw0YMt0L/QsNCw0LDQsNCw0YNcIik7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCwgb25TdWNjZXNzKSB7XG4gICAgZmV0Y2goXG4gICAgICB0aGlzLmJhc2VVcmwgKyAnY2FyZHMvJyArIGNhcmRJZCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICApLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLm9rKSB7XG4gICAgICAgIGRhdGEuanNvbigpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgb25TdWNjZXNzKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KFwi0J/QsNGDLdC/0LDRgy3Qv9Cw0YMt0L/QsNCw0LDQsNCw0YNcIik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgYWxlcnQoXCLQn9Cw0YMt0L/QsNGDLdC/0LDRgy3Qv9Cw0LDQsNCw0LDRg1wiKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUxpa2UoY2FyZElkLCBvblN1Y2Nlc3MsIGlzRGVsZXRlKSB7XG4gICAgZmV0Y2goXG4gICAgICB0aGlzLmJhc2VVcmwgKyAnY2FyZHMvbGlrZXMvJyArIGNhcmRJZCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBpc0RlbGV0ZSA/ICdERUxFVEUnIDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5vaykge1xuICAgICAgICBkYXRhLmpzb24oKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgIG9uU3VjY2VzcyhkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChcItCf0LDRgy3Qv9Cw0YMt0L/QsNGDLdC/0LDQsNCw0LDQsNGDXCIpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KFwi0J/QsNGDLdC/0LDRgy3Qv9Cw0YMt0L/QsNCw0LDQsNCw0YNcIik7XG4gICAgfSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vU2VjdGlvbi5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IGhhbmRsZVByb2ZpbGVTdWJtaXQsIGhhbmRsZUFkZE1lc3RvU3VibWl0LCBoYW5kbGVFZGl0QXZhdGFyIH0gZnJvbSAnLi9oYW5kbGVycy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYXJkIH0gZnJvbSAnLi9oZWxwZXJzLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aFN1Ym1pdCB9IGZyb20gJy4uL1BvcHVwV2l0aFN1Ym1pdC5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9BcGkuanMnO1xuXG5leHBvcnQgY29uc3QgYWxsQ2xhc3NlcyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxuICBpbnB1dENvbnRhaW5lclNlbGVjdG9yOiAnLnBvcHVwX19uYW1lLWNvbnRhaW5lcicsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX25hbWUnLFxuICBpbnB1dEVycm9yU2VsZWN0b3I6ICcucG9wdXBfX25hbWUucG9wdXBfX25hbWVfdHlwZV9lcnInLFxuICBkaXNhYmxlZEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19jb250YWluZXJfbmV3LWNhcmQgLnBvcHVwX19idXR0b24nLFxuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9faW5mby10aXRsZScsXG59O1xuXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWFkZFwiKTtcbmV4cG9ydCBjb25zdCB0cmFzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXN0by1jYXJkX190cmFzaCcpO1xuZXhwb3J0IGNvbnN0IG5hbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFsbENsYXNzZXMubmFtZVNlbGVjdG9yKTtcbmV4cG9ydCBjb25zdCBhYm91dENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLXN1YnRpdGxlJyk7XG5leHBvcnQgY29uc3QgZm90b0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19mb3RvJyk7XG5leHBvcnQgY29uc3QgZm9ybXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYWxsQ2xhc3Nlcy5mb3JtU2VsZWN0b3IpKTtcblxuZXhwb3J0IGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBhbGxDbGFzc2VzLm5hbWVTZWxlY3RvcixcbiAgYWJvdXRTZWxlY3RvcjogJy5wcm9maWxlX19pbmZvLXN1YnRpdGxlJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cC5wb3B1cF90eXBlX2ltYWdlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBXaXRoVXNlckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLnBvcHVwX3R5cGVfZWRpdCcsIGhhbmRsZVByb2ZpbGVTdWJtaXQsIHVzZXJJbmZvKTtcbmV4cG9ydCBjb25zdCBwb3B1cFdpdGhBZGRNZXN0b0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLnBvcHVwX3R5cGVfbmV3LWNhcmQnLCBoYW5kbGVBZGRNZXN0b1N1Ym1pdCwgdXNlckluZm8pO1xuZXhwb3J0IGNvbnN0IHBvcHVwU3VibWl0ID0gbmV3IFBvcHVwV2l0aFN1Ym1pdCgnLnBvcHVwLnBvcHVwX3R5cGVfY29uZmlybScpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX25ldy1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLnBvcHVwX3R5cGVfdXBkYXRlXCIsIGhhbmRsZUVkaXRBdmF0YXIpO1xuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI2LycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnODIyNTZmMjUtMzY1Yy00NmFjLWFhMWYtYTg0NjEyOWY2ZDc3JyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ1BPU1QsIEdFVCwgREVMRVRFJyxcbiAgfVxufSk7XG5cbmNvbnN0IHJlbmRlcmVyID0gKHsgbmFtZSwgbGluaywgbGlrZXMsIF9pZCB9LCBjdXJyZW50VXNlcikgPT4gY3JlYXRlQ2FyZChuYW1lLCBsaW5rLCBsaWtlcywgX2lkLCBjdXJyZW50VXNlcik7XG5cblxuZXhwb3J0IGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIGFwaSxcbiAgcmVuZGVyZXIsXG4gIHVzZXJJbmZvLFxufSwgJy5lbGVtZW50cycpO1xuIiwiaW1wb3J0IHsgZGlzYWJsZVN1Ym1pdEJ1dHRvbnMgfSBmcm9tICcuLi9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhcmQgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuaW1wb3J0IHsgdXNlckluZm8sIHNlY3Rpb24sIGFsbENsYXNzZXMsIGFwaSwgZm90b0NvbnRhaW5lciB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVTdWJtaXQoZXZ0LCB2YWx1ZXMsIG9uU3VjY2Vzcykge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdmFsdWVzO1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KTtcbiAgYXBpLnVwZGF0ZUVkaXRQcm9maWxlKHsgbmFtZSwgYWJvdXQ6IGpvYiB9LCBvblN1Y2Nlc3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWRkTWVzdG9TdWJtaXQoZSwgdmFsdWVzLCBvblN1Y2Nlc3MpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB7IG1lc3RvLCBsaW5rIH0gPSB2YWx1ZXM7XG5cbiAgYXBpLmFkZE5ld9ChYXJkKFxuICAgIHsgbmFtZTogbWVzdG8sIGxpbmsgfSxcbiAgICAoeyBuYW1lLCBvd25lciwgbGlrZXMsIF9pZCB9KSA9PiB7XG4gICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgIGNvbnN0IHsgbmFtZTogdXNlck5hbWUgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gICAgICBjb25zdCBpc093bmVyID0gdXNlck5hbWUgPT09IG93bmVyLm5hbWU7XG4gICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChuYW1lLCBsaW5rLCBsaWtlcywgX2lkLCBpc093bmVyKSk7XG4gICAgICBkaXNhYmxlU3VibWl0QnV0dG9ucyhhbGxDbGFzc2VzKTtcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVFZGl0QXZhdGFyKGUsIHZhbHVlcywgb25TdWNjZXNzKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCB7IGxpbmsgfSA9IHZhbHVlcztcblxuICBhcGkudXBkYXRlRWRpdEF2YXRhcihsaW5rLCAoYXZhdGFyVXJsKSA9PiB7XG4gICAgb25TdWNjZXNzKCk7XG4gICAgZm90b0NvbnRhaW5lci5zcmMgPSBhdmF0YXJVcmw7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQge1xuICBhbGxDbGFzc2VzLFxuICBmb3JtcyxcbiAgcG9wdXBXaXRoSW1hZ2UsXG4gIHBvcHVwV2l0aFVzZXJGb3JtLFxuICBwb3B1cFdpdGhBZGRNZXN0b0Zvcm0sXG4gIHVzZXJJbmZvLFxuICBwcm9maWxlQnV0dG9uLFxuICBwcm9maWxlQnV0dG9uQWRkLFxuICBzZWN0aW9uLFxuICBhcGksXG4gIG5hbWVDb250YWluZXIsXG4gIGFib3V0Q29udGFpbmVyLFxuICBmb3RvQ29udGFpbmVyLFxuICBwb3B1cFN1Ym1pdCxcbiAgcG9wdXBFZGl0QXZhdGFyXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmZ1bmN0aW9uIHNldElucHV0VmFsdWVzKHVzZXJJbmZvKSB7XG4gIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG4gIGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pvYicpO1xuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuXG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gYWJvdXQ7XG59XG5cbmZvcm1zLmZvckVhY2goZnVuY3Rpb24gKGZvcm0pIHtcbiAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGFsbENsYXNzZXMsIGZvcm0pO1xuICBmb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb25zKCk7XG59KTtcblxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwV2l0aFVzZXJGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFdpdGhBZGRNZXN0b0Zvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwU3VibWl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBXaXRoVXNlckZvcm0ub3BlbigpO1xuICBzZXRJbnB1dFZhbHVlcyh1c2VySW5mbyk7XG5cbn0pO1xuXG5mb3RvQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEVkaXRBdmF0YXIub3BlbigpO1xuICBzZXRJbnB1dFZhbHVlcyh1c2VySW5mbyk7XG59KTtcblxuXG5wcm9maWxlQnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcG9wdXBXaXRoQWRkTWVzdG9Gb3JtLm9wZW4pXG5cbmFwaS5nZXRJbmZvQWJvdXRQZW9wbGUoKGRhdGEpID0+IHtcbiAgbmFtZUNvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgYWJvdXRDb250YWluZXIudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICBmb3RvQ29udGFpbmVyLnNyYyA9IGRhdGEuYXZhdGFyO1xuXG4gIHNlY3Rpb24uaW5pdENhcmRzKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=